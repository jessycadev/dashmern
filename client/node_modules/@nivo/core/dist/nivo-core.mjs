import{createContext as e,useMemo as t,useContext as r,useRef as n,useEffect as o,useState as i,cloneElement as l,useCallback as a,memo as d,createElement as u,Component as s}from"react";import{TooltipProvider as c,Tooltip as f,useTooltipHandlers as h,TooltipActionsContext as p,TooltipStateContext as g}from"@nivo/tooltip";import b from"lodash/merge.js";import m from"lodash/get.js";import v from"lodash/set.js";import{interpolateString as y}from"d3-interpolate";import{config as _,useSpring as w,to as k,animated as x}from"@react-spring/web";import O from"lodash/isString.js";import{jsx as C,jsxs as W}from"react/jsx-runtime";import M from"lodash/without.js";import{curveBasis as z,curveBasisClosed as j,curveBasisOpen as R,curveBundle as P,curveCardinal as G,curveCardinalClosed as B,curveCardinalOpen as S,curveCatmullRom as I,curveCatmullRomClosed as L,curveCatmullRomOpen as Y,curveLinear as A,curveLinearClosed as E,curveMonotoneX as q,curveMonotoneY as D,curveNatural as T,curveStep as U,curveStepAfter as F,curveStepBefore as X,stackOrderAscending as H,stackOrderDescending as K,stackOrderInsideOut as N,stackOrderNone as V,stackOrderReverse as J,stackOffsetExpand as Q,stackOffsetDiverging as Z,stackOffsetNone as $,stackOffsetSilhouette as ee,stackOffsetWiggle as te}from"d3-shape";import{scaleQuantize as re,scaleOrdinal as ne,scaleSequential as oe}from"d3-scale";import{schemeBrBG as ie,schemePRGn as le,schemePiYG as ae,schemePuOr as de,schemeRdBu as ue,schemeRdGy as se,schemeRdYlBu as ce,schemeRdYlGn as fe,schemeSpectral as he,schemeBlues as pe,schemeGreens as ge,schemeGreys as be,schemeOranges as me,schemePurples as ve,schemeReds as ye,schemeBuGn as _e,schemeBuPu as we,schemeGnBu as ke,schemeOrRd as xe,schemePuBuGn as Oe,schemePuBu as Ce,schemePuRd as We,schemeRdPu as Me,schemeYlGnBu as ze,schemeYlGn as je,schemeYlOrBr as Re,schemeYlOrRd as Pe,schemeCategory10 as Ge,schemeAccent as Be,schemeDark2 as Se,schemePaired as Ie,schemePastel1 as Le,schemePastel2 as Ye,schemeSet1 as Ae,schemeSet2 as Ee,schemeSet3 as qe,interpolateBrBG as De,interpolatePRGn as Te,interpolatePiYG as Ue,interpolatePuOr as Fe,interpolateRdBu as Xe,interpolateRdGy as He,interpolateRdYlBu as Ke,interpolateRdYlGn as Ne,interpolateSpectral as Ve,interpolateBlues as Je,interpolateGreens as Qe,interpolateGreys as Ze,interpolateOranges as $e,interpolatePurples as et,interpolateReds as tt,interpolateViridis as rt,interpolateInferno as nt,interpolateMagma as ot,interpolatePlasma as it,interpolateWarm as lt,interpolateCool as at,interpolateCubehelixDefault as dt,interpolateBuGn as ut,interpolateBuPu as st,interpolateGnBu as ct,interpolateOrRd as ft,interpolatePuBuGn as ht,interpolatePuBu as pt,interpolatePuRd as gt,interpolateRdPu as bt,interpolateYlGnBu as mt,interpolateYlGn as vt,interpolateYlOrBr as yt,interpolateYlOrRd as _t,interpolateRainbow as wt,interpolateSinebow as kt}from"d3-scale-chromatic";import xt from"lodash/last.js";import Ot from"lodash/isArray.js";import Ct from"lodash/isFunction.js";import{format as Wt}from"d3-format";import{timeFormat as Mt}from"d3-time-format";import zt from"lodash/isPlainObject.js";import jt from"lodash/pick.js";import Rt from"lodash/isEqual.js";var Pt={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gt.apply(this,arguments)}function Bt(e,t){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bt(e,t)}function St(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var It=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],Lt=function(e,t){return Gt({},t,e)},Yt=function(e,t){var r=b({},e,t);return It.forEach((function(e){v(r,e,Lt(m(r,e),r.text))})),r},At=e(),Et={animate:!0,config:"default"},qt=function(e){var r=e.children,n=e.animate,o=void 0===n||n,i=e.config,l=void 0===i?"default":i,a=t((function(){var e=O(l)?_[l]:l;return{animate:o,config:e}}),[o,l]);return C(At.Provider,{value:a,children:r})},Dt=function(){return r(At)},Tt=function(e){var r=Dt(),i=r.animate,l=r.config,a=function(e){var t=n();return o((function(){t.current=e}),[e]),t.current}(e),d=t((function(){return y(a,e)}),[a,e]),u=w({from:{value:0},to:{value:1},reset:!0,config:l,immediate:!i}).value;return k(u,d)},Ut={basis:z,basisClosed:j,basisOpen:R,bundle:P,cardinal:G,cardinalClosed:B,cardinalOpen:S,catmullRom:I,catmullRomClosed:L,catmullRomOpen:Y,linear:A,linearClosed:E,monotoneX:q,monotoneY:D,natural:T,step:U,stepAfter:F,stepBefore:X},Ft=Object.keys(Ut),Xt=Ft.filter((function(e){return e.endsWith("Closed")})),Ht=M(Ft,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),Kt=M(Ft,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),Nt=function(e){if(!Ut[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return Ut[e]},Vt={ascending:H,descending:K,insideOut:N,none:V,reverse:J},Jt=Object.keys(Vt),Qt=function(e){return Vt[e]},Zt={expand:Q,diverging:Z,none:$,silhouette:ee,wiggle:te},$t=Object.keys(Zt),er=function(e){return Zt[e]},tr=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],rr=function(e){return t((function(){return Nt(e)}),[e])},nr={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:xt(ie),PRGn:xt(le),PiYG:xt(ae),PuOr:xt(de),RdBu:xt(ue),RdGy:xt(se),RdYlBu:xt(ce),RdYlGn:xt(fe),spectral:xt(he),blues:xt(pe),greens:xt(ge),greys:xt(be),oranges:xt(me),purples:xt(ve),reds:xt(ye),BuGn:xt(_e),BuPu:xt(we),GnBu:xt(ke),OrRd:xt(xe),PuBuGn:xt(Oe),PuBu:xt(Ce),PuRd:xt(We),RdPu:xt(Me),YlGnBu:xt(ze),YlGn:xt(je),YlOrBr:xt(Re),YlOrRd:xt(Pe)},or=Object.keys(nr),ir=function(e){if(Ct(e)){if(!Ct(e.domain))throw new Error("Provided colors should be a valid quantize scale providing a 'domain()' function");return e}if(nr[e])return re().range(nr[e]);if(Ot(e))return re().range(e);throw new Error("Unable to guess quantize color scale from '"+e+"',\nmust be a function or one of:\n'"+or.join("', '")+"'")},lr={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:Ge,accent:Be,dark2:Se,paired:Ie,pastel1:Le,pastel2:Ye,set1:Ae,set2:Ee,set3:qe,brown_blueGreen:xt(ie),purpleRed_green:xt(le),pink_yellowGreen:xt(ae),purple_orange:xt(de),red_blue:xt(ue),red_grey:xt(se),red_yellow_blue:xt(ce),red_yellow_green:xt(fe),spectral:xt(he),blues:xt(pe),greens:xt(ge),greys:xt(be),oranges:xt(me),purples:xt(ve),reds:xt(ye),blue_green:xt(_e),blue_purple:xt(we),green_blue:xt(ke),orange_red:xt(xe),purple_blue_green:xt(Oe),purple_blue:xt(Ce),purple_red:xt(We),red_purple:xt(Me),yellow_green_blue:xt(ze),yellow_green:xt(je),yellow_orange_brown:xt(Re),yellow_orange_red:xt(Pe)},ar=["nivo","category10","accent","dark2","paired","pastel1","pastel2","set1","set2","set3","brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red"],dr={brown_blueGreen:De,purpleRed_green:Te,pink_yellowGreen:Ue,purple_orange:Fe,red_blue:Xe,red_grey:He,red_yellow_blue:Ke,red_yellow_green:Ne,spectral:Ve,blues:Je,greens:Qe,greys:Ze,oranges:$e,purples:et,reds:tt,viridis:rt,inferno:nt,magma:ot,plasma:it,warm:lt,cool:at,cubehelixDefault:dt,blue_green:ut,blue_purple:st,green_blue:ct,orange_red:ft,purple_blue_green:ht,purple_blue:pt,purple_red:gt,red_purple:bt,yellow_green_blue:mt,yellow_green:vt,yellow_orange_brown:yt,yellow_orange_red:_t,rainbow:wt,sinebow:kt},ur=["brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","viridis","inferno","magma","plasma","warm","cool","cubehelixDefault","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red","rainbow","sinebow"],sr=function(){return ne(["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"])},cr=function(e,t){if(O(e)){var r=lr[e];if(void 0!==r){var n=ne(r);return n.type="ordinal",n}if(void 0!==t&&0===e.indexOf("seq:")){var o=dr[e.slice(4)];if(void 0!==o){var i=oe(o).domain(t.domain());return i.type="sequential",i}}}if(Ot(e)){var l=ne(e);return l.type="ordinal",l}return function(){return e}},fr=!0,hr=sr,pr=ne(qe),gr={top:0,right:0,bottom:0,left:0},br=function(e,r,n){return void 0===n&&(n={}),t((function(){var t=Gt({},gr,n);return{margin:t,innerWidth:e-t.left-t.right,innerHeight:r-t.top-t.bottom,outerWidth:e,outerHeight:r}}),[e,r,n.top,n.right,n.bottom,n.left])},mr=function(){var e=n(null),t=i({left:0,top:0,width:0,height:0}),r=t[0],l=t[1],a=i((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var t=e[0];return l(t.contentRect)}))}))[0];return o((function(){return e.current&&null!==a&&a.observe(e.current),function(){null!==a&&a.disconnect()}}),[]),[e,r]},vr=function(e){return t((function(){return Yt(Pt,e)}),[e])},yr=function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?Mt(e.slice("5")):Wt(e):function(e){return""+e}},_r=function(e){return t((function(){return yr(e)}),[e])},wr=e(),kr={},xr=function(e){var t=e.theme,r=void 0===t?kr:t,n=e.children,o=vr(r);return C(wr.Provider,{value:o,children:n})},Or=function(){return r(wr)},Cr=["outlineWidth","outlineColor","outlineOpacity"],Wr=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,St(e,Cr)},Mr=function(e){var t=e.children,r=e.condition,n=e.wrapper;return r?l(n,{},t):t},zr={position:"relative"},jr=function(e){var t=e.children,r=e.theme,o=e.renderWrapper,i=void 0===o||o,l=e.isInteractive,a=void 0===l||l,d=e.animate,u=e.motionConfig,s=n(null);return C(xr,{theme:r,children:C(qt,{animate:d,config:u,children:C(c,{container:s,children:W(Mr,{condition:i,wrapper:C("div",{style:zr,ref:s}),children:[t,a&&C(f,{})]})})})})},Rr=function(){},Pr={position:"relative"},Gr=function(e){var r=e.children,o=e.theme,i=e.isInteractive,l=void 0===i||i,d=e.renderWrapper,u=void 0===d||d,s=e.animate,c=e.motionConfig,b=n(null),m=h(b),v=m.actions,y=m.state,_=a((function(e,t){return v.showTooltipFromEvent(e,t)}),[v.showTooltipFromEvent]),w=t((function(){return{showTooltip:l?_:Rr,hideTooltip:l?v.hideTooltip:Rr}}),[v.hideTooltip,l,_]);return C(xr,{theme:o,children:C(qt,{animate:s,config:c,children:C(p.Provider,{value:v,children:C(g.Provider,{value:y,children:W(Mr,{condition:u,wrapper:C("div",{style:Pr,ref:b}),children:[r(w),l&&C(f,{})]})})})})})},Br=function(e){var t=e.children,r=mr(),n=r[0],o=r[1],i=o.width>0&&o.height>0;return C("div",{ref:n,style:{width:"100%",height:"100%"},children:i&&t({width:o.width,height:o.height})})},Sr=["id","colors"],Ir=function(e){var t=e.id,r=e.colors,n=St(e,Sr);return C("linearGradient",Gt({id:t,x1:0,x2:0,y1:0,y2:1},n,{children:r.map((function(e){var t=e.offset,r=e.color,n=e.opacity;return C("stop",{offset:t+"%",stopColor:r,stopOpacity:void 0!==n?n:1},t)}))}))},Lr=function(e,t,r){return void 0===r&&(r={}),Gt({id:e,type:"linearGradient",colors:t},r)},Yr={linearGradient:Ir},Ar={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Er=d((function(e){var t=e.id,r=e.background,n=void 0===r?Ar.background:r,o=e.color,i=void 0===o?Ar.color:o,l=e.size,a=void 0===l?Ar.size:l,d=e.padding,u=void 0===d?Ar.padding:d,s=e.stagger,c=void 0===s?Ar.stagger:s,f=a+u,h=a/2,p=u/2;return!0===c&&(f=2*a+2*u),W("pattern",{id:t,width:f,height:f,patternUnits:"userSpaceOnUse",children:[C("rect",{width:f,height:f,fill:n}),C("circle",{cx:p+h,cy:p+h,r:h,fill:i}),c&&C("circle",{cx:1.5*u+a+h,cy:1.5*u+a+h,r:h,fill:i})]})})),qr=function(e,t){return void 0===t&&(t={}),Gt({id:e,type:"patternDots"},t)},Dr=2*Math.PI,Tr=function(e){return e*Math.PI/180},Ur=function(e){return 180*e/Math.PI},Fr=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},Xr=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},Hr=function(e){var t=e%360;return t<0&&(t+=360),t},Kr=function(e){return e-Dr*Math.floor((e+Math.PI)/Dr)},Nr=function(e){return e<0?360- -e%360:e%360},Vr=function(e,t,r){void 0===r&&(r=360);var n=t;return Math.abs(t-e)>r&&(n=e+(t>e?r:-r)),[e,n]},Jr={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},Qr=function(e,t,r,n){void 0===n&&(n="svg");var o=Jr[n],i=Xr(t-Math.PI/2,e),l=i.x,a=i.y,d=Ur(t),u=o.align.center,s=o.baseline.bottom;return r>0?(u=o.align.right,s=o.baseline.center):r<0&&(u=o.align.left,s=o.baseline.center),0!==r&&d>180&&(d-=180,u=u===o.align.right?o.align.left:o.align.right),{x:l,y:a,rotate:d+=r,align:u,baseline:s}},Zr={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},$r=d((function(e){var t=e.id,r=e.spacing,n=void 0===r?Zr.spacing:r,o=e.rotation,i=void 0===o?Zr.rotation:o,l=e.background,a=void 0===l?Zr.background:l,d=e.color,u=void 0===d?Zr.color:d,s=e.lineWidth,c=void 0===s?Zr.lineWidth:s,f=Math.round(i)%360,h=Math.abs(n);f>180?f-=360:f>90?f-=180:f<-180?f+=360:f<-90&&(f+=180);var p,g=h,b=h;return 0===f?p="\n                M 0 0 L "+g+" 0\n                M 0 "+b+" L "+g+" "+b+"\n            ":90===f?p="\n                M 0 0 L 0 "+b+"\n                M "+g+" 0 L "+g+" "+b+"\n            ":(g=Math.abs(h/Math.sin(Tr(f))),b=h/Math.sin(Tr(90-f)),p=f>0?"\n                    M 0 "+-b+" L "+2*g+" "+b+"\n                    M "+-g+" "+-b+" L "+g+" "+b+"\n                    M "+-g+" 0 L "+g+" "+2*b+"\n                ":"\n                    M "+-g+" "+b+" L "+g+" "+-b+"\n                    M "+-g+" "+2*b+" L "+2*g+" "+-b+"\n                    M 0 "+2*b+" L "+2*g+" 0\n                "),W("pattern",{id:t,width:g,height:b,patternUnits:"userSpaceOnUse",children:[C("rect",{width:g,height:b,fill:a,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),C("path",{d:p,strokeWidth:c,stroke:u,strokeLinecap:"square"})]})})),en=function(e,t){return void 0===t&&(t={}),Gt({id:e,type:"patternLines"},t)},tn={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},rn=d((function(e){var t=e.id,r=e.color,n=void 0===r?tn.color:r,o=e.background,i=void 0===o?tn.background:o,l=e.size,a=void 0===l?tn.size:l,d=e.padding,u=void 0===d?tn.padding:d,s=e.stagger,c=void 0===s?tn.stagger:s,f=a+u,h=u/2;return!0===c&&(f=2*a+2*u),W("pattern",{id:t,width:f,height:f,patternUnits:"userSpaceOnUse",children:[C("rect",{width:f,height:f,fill:i}),C("rect",{x:h,y:h,width:a,height:a,fill:n}),c&&C("rect",{x:1.5*u+a,y:1.5*u+a,width:a,height:a,fill:n})]})})),nn=function(e,t){return void 0===t&&(t={}),Gt({id:e,type:"patternSquares"},t)},on={patternDots:Er,patternLines:$r,patternSquares:rn},ln=["type"],an=Gt({},Yr,on),dn=d((function(e){var t=e.defs;return!t||t.length<1?null:C("defs",{"aria-hidden":!0,children:t.map((function(e){var t=e.type,r=St(e,ln);return an[t]?u(an[t],Gt({key:r.id},r)):null}))})})),un=function(e){var t=e.width,r=e.height,n=e.margin,o=e.defs,i=e.children,l=e.role,a=e.ariaLabel,d=e.ariaLabelledBy,u=e.ariaDescribedBy,s=e.isFocusable,c=Or();return W("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,role:l,"aria-label":a,"aria-labelledby":d,"aria-describedby":u,focusable:s,tabIndex:s?0:void 0,children:[C(dn,{defs:o}),C("rect",{width:t,height:r,fill:c.background}),C("g",{transform:"translate("+n.left+","+n.top+")",children:i})]})},sn=d((function(e){var t=e.size,r=e.color,n=e.borderWidth,o=e.borderColor;return C("circle",{r:t/2,fill:r,stroke:o,strokeWidth:n,style:{pointerEvents:"none"}})})),cn=d((function(e){var t=e.x,r=e.y,n=e.symbol,o=void 0===n?sn:n,i=e.size,l=e.datum,a=e.color,d=e.borderWidth,s=e.borderColor,c=e.label,f=e.labelTextAnchor,h=void 0===f?"middle":f,p=e.labelYOffset,g=void 0===p?-12:p,b=Or(),m=Dt(),v=m.animate,y=m.config,_=w({transform:"translate("+t+", "+r+")",config:y,immediate:!v});return W(x.g,{transform:_.transform,style:{pointerEvents:"none"},children:[u(o,{size:i,color:a,datum:l,borderWidth:d,borderColor:s}),c&&C("text",{textAnchor:h,y:g,style:Wr(b.dots.text),children:c})]})})),fn=d((function(e){var t=e.width,r=e.height,n=e.axis,o=e.scale,i=e.value,l=e.lineStyle,a=e.textStyle,d=e.legend,u=e.legendNode,s=e.legendPosition,c=void 0===s?"top-right":s,f=e.legendOffsetX,h=void 0===f?14:f,p=e.legendOffsetY,g=void 0===p?14:p,b=e.legendOrientation,m=void 0===b?"horizontal":b,v=Or(),y=0,_=0,w=0,k=0;if("y"===n?(w=o(i),_=t):(y=o(i),k=r),d&&!u){var x=function(e){var t=e.axis,r=e.width,n=e.height,o=e.position,i=e.offsetX,l=e.offsetY,a=e.orientation,d=0,u=0,s="vertical"===a?-90:0,c="start";if("x"===t)switch(o){case"top-left":d=-i,u=l,c="end";break;case"top":u=-l,c="horizontal"===a?"middle":"start";break;case"top-right":d=i,u=l,c="horizontal"===a?"start":"end";break;case"right":d=i,u=n/2,c="horizontal"===a?"start":"middle";break;case"bottom-right":d=i,u=n-l,c="start";break;case"bottom":u=n+l,c="horizontal"===a?"middle":"end";break;case"bottom-left":u=n-l,d=-i,c="horizontal"===a?"end":"start";break;case"left":d=-i,u=n/2,c="horizontal"===a?"end":"middle"}else switch(o){case"top-left":d=i,u=-l,c="start";break;case"top":d=r/2,u=-l,c="horizontal"===a?"middle":"start";break;case"top-right":d=r-i,u=-l,c="horizontal"===a?"end":"start";break;case"right":d=r+i,c="horizontal"===a?"start":"middle";break;case"bottom-right":d=r-i,u=l,c="end";break;case"bottom":d=r/2,u=l,c="horizontal"===a?"middle":"end";break;case"bottom-left":d=i,u=l,c="horizontal"===a?"start":"end";break;case"left":d=-i,c="horizontal"===a?"end":"middle"}return{x:d,y:u,rotation:s,textAnchor:c}}({axis:n,width:t,height:r,position:c,offsetX:h,offsetY:g,orientation:m});u=C("text",{transform:"translate("+x.x+", "+x.y+") rotate("+x.rotation+")",textAnchor:x.textAnchor,dominantBaseline:"central",style:a,children:d})}return W("g",{transform:"translate("+y+", "+w+")",children:[C("line",{x1:0,x2:_,y1:0,y2:k,stroke:v.markers.lineColor,strokeWidth:v.markers.lineStrokeWidth,style:l}),u]})})),hn=d((function(e){var t=e.markers,r=e.width,n=e.height,o=e.xScale,i=e.yScale;return t&&0!==t.length?t.map((function(e,t){return C(fn,Gt({},e,{width:r,height:n,scale:"y"===e.axis?i:o}),t)})):null})),pn=["theme","renderWrapper","animate","motionConfig"],gn=function(e){return function(t){var r,n;function o(){return t.apply(this,arguments)||this}return n=t,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,Bt(r,n),o.prototype.render=function(){var t=this.props,r=t.theme,n=t.renderWrapper,o=t.animate,i=t.motionConfig,l=St(t,pn);return C(jr,{theme:r,renderWrapper:n,isInteractive:l.isInteractive,animate:o,motionConfig:i,children:C(e,Gt({},l))})},o}(s)},bn=function(e,t){var r,n=Ct(e)?e:function(t){return m(t,e)};return t&&(r=Ct(t)?t:Wt(t)),r?function(e){return r(n(e))}:n},mn=function(e){return Ct(e)?e:function(t){return m(t,e)}},vn=function(e){return t((function(){return mn(e)}),[e])},yn=["center","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],_n=function(e,t,r){var n=t.width-e.width,o=t.height-e.height,i=0,l=0;return"center"===r&&(i=n/2,l=o/2),"top"===r&&(i=n/2),"top-right"===r&&(i=n),"right"===r&&(i=n,l=o/2),"bottom-right"===r&&(i=n,l=o),"bottom"===r&&(i=n/2,l=o),"bottom-left"===r&&(l=o),"left"===r&&(l=o/2),[i,l]},wn=function(e,t,r,n){return Math.sqrt(Math.pow(r-e,2)+Math.pow(n-t,2))},kn=function(e,t,r,n){var o=Math.atan2(n-t,r-e)-Math.PI/2;return o>0?o:2*Math.PI+o},xn=function(e,t,r,n,o,i){return e<=o&&o<=e+r&&t<=i&&i<=t+n},On=function(e,t){var r,n="touches"in t?t.touches[0]:t,o=n.clientX,i=n.clientY,l=e.getBoundingClientRect(),a=(r=void 0!==e.getBBox?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===l.width?1:r.width/l.width;return[(o-l.left)*a,(i-l.top)*a]},Cn=Object.keys(Yr),Wn=Object.keys(on),Mn=function(e,t,r){if("*"===e)return!0;if(Ct(e))return e(t);if(zt(e)){var n=r?m(t,r):t;return Rt(jt(n,Object.keys(e)),e)}return!1},zn=function(e,t,r,n){var o=void 0===n?{}:n,i=o.dataKey,l=o.colorKey,a=void 0===l?"color":l,d=o.targetKey,u=void 0===d?"fill":d,s=[],c={};return e.length&&t.length&&(s=[].concat(e),t.forEach((function(t){for(var n=function(){var n=r[o],l=n.id,d=n.match;if(Mn(d,t,i)){var f=e.find((function(e){return e.id===l}));if(f)if(Wn.includes(f.type))if("inherit"===f.background||"inherit"===f.color){var h=m(t,a),p=f.background,g=f.color,b=l;"inherit"===f.background&&(b=b+".bg."+h,p=h),"inherit"===f.color&&(b=b+".fg."+h,g=h),v(t,u,"url(#"+b+")"),c[b]||(s.push(Gt({},f,{id:b,background:p,color:g})),c[b]=1)}else v(t,u,"url(#"+l+")");else if(Cn.includes(f.type)){if(f.colors.map((function(e){return e.color})).includes("inherit")){var y=m(t,a),_=l,w=Gt({},f,{colors:f.colors.map((function(e,t){return"inherit"!==e.color?e:(_=_+"."+t+"."+y,Gt({},e,{color:"inherit"===e.color?y:e.color}))}))});w.id=_,v(t,u,"url(#"+_+")"),c[_]||(s.push(w),c[_]=1)}else v(t,u,"url(#"+l+")")}return"break"}},o=0;o<r.length;o++){if("break"===n())break}}))),s};export{hn as CartesianMarkers,fn as CartesianMarkersItem,jr as Container,dn as Defs,cn as DotsItem,Gr as LegacyContainer,Ir as LinearGradient,qt as MotionConfigProvider,Er as PatternDots,Ar as PatternDotsDefaultProps,$r as PatternLines,Zr as PatternLinesDefaultProps,rn as PatternSquares,tn as PatternSquaresDefaultProps,Br as ResponsiveWrapper,un as SvgWrapper,Dr as TWO_PI,xr as ThemeProvider,Hr as absoluteAngleDegrees,Kr as absoluteAngleRadians,_n as alignBox,Ht as areaCurvePropKeys,zn as bindDefs,tr as blendModes,yn as boxAlignments,Vr as clampArc,Xt as closedCurvePropKeys,ur as colorInterpolatorIds,dr as colorInterpolators,ar as colorSchemeIds,Nt as curveFromProp,Ft as curvePropKeys,Ut as curvePropMapping,fr as defaultAnimate,hr as defaultCategoricalColors,pr as defaultColorRange,gr as defaultMargin,Pt as defaultTheme,Tr as degreesToRadians,Yt as extendDefaultTheme,kn as getAngle,cr as getColorScale,wn as getDistance,bn as getLabelGenerator,Qr as getPolarLabelProps,mn as getPropertyAccessor,On as getRelativeCursor,yr as getValueFormatter,Yr as gradientTypes,ir as guessQuantizeColorScale,Lt as inheritRootThemeText,xn as isCursorInRect,Mn as isMatchingDef,Kt as lineCurvePropKeys,Lr as linearGradientDef,Fr as midAngle,At as motionConfigContext,Et as motionDefaultProps,sr as nivoCategoricalColors,Rr as noop,Nr as normalizeAngle,qr as patternDotsDef,en as patternLinesDef,nn as patternSquaresDef,on as patternTypes,Xr as positionFromAngle,nr as quantizeColorScales,or as quantizeColorScalesKeys,Ur as radiansToDegrees,Wr as sanitizeSvgTextStyle,er as stackOffsetFromProp,$t as stackOffsetPropKeys,Zt as stackOffsetPropMapping,Qt as stackOrderFromProp,Jt as stackOrderPropKeys,Vt as stackOrderPropMapping,Jr as textPropsByEngine,wr as themeContext,Tt as useAnimatedPath,rr as useCurveInterpolation,br as useDimensions,mr as useMeasure,Dt as useMotionConfig,vr as usePartialTheme,vn as usePropertyAccessor,Or as useTheme,_r as useValueFormatter,gn as withContainer};
//# sourceMappingURL=nivo-core.mjs.map
