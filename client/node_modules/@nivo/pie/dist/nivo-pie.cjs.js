"use strict";var e=require("react"),a=require("@nivo/core"),i=require("@nivo/arcs"),t=require("@nivo/legends"),n=require("react/jsx-runtime"),r=require("d3-shape"),o=require("@nivo/colors"),d=require("@nivo/tooltip");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},s.apply(this,arguments)}function l(e,a){if(null==e)return{};var i,t,n={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],a.indexOf(i)>=0||(n[i]=e[i]);return n}var c,u=function(e){var a=e.width,i=e.height,r=e.legends,o=e.data,d=e.toggleSerie;return n.jsx(n.Fragment,{children:r.map((function(e,r){var l;return n.jsx(t.BoxLegendSvg,s({},e,{containerWidth:a,containerHeight:i,data:null!=(l=e.data)?l:o,toggleSerie:e.toggleSerie?d:void 0}),r)}))})},v={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsSkipRadius:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var a=e.datum;return n.jsx(d.BasicTooltip,{id:a.id,value:a.formattedValue,enableChip:!0,color:a.color})},legends:[],role:"img",pixelRatio:"undefined"!=typeof window&&null!=(c=window.devicePixelRatio)?c:1},f=["points"],g=function(i){var t=i.data,n=i.id,r=void 0===n?v.id:n,d=i.value,l=void 0===d?v.value:d,c=i.valueFormat,u=i.colors,f=void 0===u?v.colors:u,g=a.usePropertyAccessor(r),L=a.usePropertyAccessor(l),h=a.useValueFormatter(c),b=o.useOrdinalColorScale(f,"id");return e.useMemo((function(){return t.map((function(e){var a,i=g(e),t=L(e),n={id:i,label:null!=(a=e.label)?a:i,hidden:!1,value:t,formattedValue:h(t),data:e};return s({},n,{color:b(n)})}))}),[t,g,L,h,b])},L=function(i){var t=i.data,n=i.startAngle,o=i.endAngle,d=i.innerRadius,l=i.outerRadius,c=i.padAngle,u=i.sortByValue,v=i.activeId,f=i.activeInnerRadiusOffset,g=i.activeOuterRadiusOffset,L=i.hiddenIds,h=i.forwardLegendData,b=e.useMemo((function(){var e=r.pie().value((function(e){return e.value})).startAngle(a.degreesToRadians(n)).endAngle(a.degreesToRadians(o)).padAngle(a.degreesToRadians(c));return u||e.sortValues(null),e}),[n,o,c,u]),A=e.useMemo((function(){var e=t.filter((function(e){return!L.includes(e.id)}));return{dataWithArc:b(e).map((function(e){var i=Math.abs(e.endAngle-e.startAngle);return s({},e.data,{arc:{index:e.index,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:v===e.data.id?d-f:d,outerRadius:v===e.data.id?l+g:l,thickness:l-d,padAngle:e.padAngle,angle:i,angleDeg:a.radiansToDegrees(i)}})})),legendData:t.map((function(e){return{id:e.id,label:e.label,color:e.color,hidden:L.includes(e.id),data:e}}))}}),[b,t,L,v,d,f,l,g]),p=A.legendData,k=e.useRef(h);return e.useEffect((function(){"function"==typeof k.current&&k.current(p)}),[k,p]),A},h=function(a){var i=a.activeId,t=a.onActiveIdChange,n=a.defaultActiveId,r=void 0===n?null:n,o=void 0!==i,d=e.useState(o?null:r),s=d[0],l=d[1];return{activeId:o?i:s,setActiveId:e.useCallback((function(e){t&&t(e),o||l(e)}),[o,t,l])}},b=function(t){var n=t.data,r=t.width,o=t.height,d=t.innerRadius,c=void 0===d?v.innerRadius:d,u=t.startAngle,g=void 0===u?v.startAngle:u,b=t.endAngle,A=void 0===b?v.endAngle:b,p=t.padAngle,k=void 0===p?v.padAngle:p,R=t.sortByValue,m=void 0===R?v.sortByValue:R,I=t.cornerRadius,x=void 0===I?v.cornerRadius:I,O=t.fit,C=void 0===O?v.fit:O,M=t.activeInnerRadiusOffset,w=void 0===M?v.activeInnerRadiusOffset:M,y=t.activeOuterRadiusOffset,T=void 0===y?v.activeOuterRadiusOffset:y,S=t.activeId,W=t.onActiveIdChange,j=t.defaultActiveId,D=t.forwardLegendData,B=h({activeId:S,onActiveIdChange:W,defaultActiveId:j}),V=B.activeId,E=B.setActiveId,P=e.useState([]),G=P[0],F=P[1],q=e.useMemo((function(){var e,a=Math.min(r,o)/2,t=a*Math.min(c,1),n=r/2,d=o/2;if(C){var s=i.computeArcBoundingBox(n,d,a,g-90,A-90),u=s.points,v=l(s,f),L=Math.min(r/v.width,o/v.height),h={width:v.width*L,height:v.height*L};h.x=(r-h.width)/2,h.y=(o-h.height)/2,n=(n-v.x)/v.width*v.width*L+h.x,d=(d-v.y)/v.height*v.height*L+h.y,e={box:v,ratio:L,points:u},a*=L,t*=L}return{centerX:n,centerY:d,radius:a,innerRadius:t,debug:e}}),[r,o,c,g,A,C]),H=L({data:n,startAngle:g,endAngle:A,innerRadius:q.innerRadius,outerRadius:q.radius,padAngle:k,sortByValue:m,activeId:V,activeInnerRadiusOffset:w,activeOuterRadiusOffset:T,hiddenIds:G,forwardLegendData:D}),X=e.useCallback((function(e){F((function(a){return a.indexOf(e)>-1?a.filter((function(a){return a!==e})):[].concat(a,[e])}))}),[]);return s({arcGenerator:i.useArcGenerator({cornerRadius:x,padAngle:a.degreesToRadians(k)}),activeId:V,setActiveId:E,toggleSerie:X},H,q)},A=function(a){var i=a.dataWithArc,t=a.arcGenerator,n=a.centerX,r=a.centerY,o=a.radius,d=a.innerRadius;return e.useMemo((function(){return{dataWithArc:i,arcGenerator:t,centerX:n,centerY:r,radius:o,innerRadius:d}}),[i,t,n,r,o,d])},p=function(a){var t=a.center,r=a.data,o=a.arcGenerator,s=a.borderWidth,l=a.borderColor,c=a.isInteractive,u=a.onClick,v=a.onMouseEnter,f=a.onMouseMove,g=a.onMouseLeave,L=a.setActiveId,h=a.tooltip,b=a.transitionMode,A=d.useTooltip(),p=A.showTooltipFromEvent,k=A.hideTooltip,R=e.useMemo((function(){if(c)return function(e,a){null==u||u(e,a)}}),[c,u]),m=e.useMemo((function(){if(c)return function(a,i){p(e.createElement(h,{datum:a}),i),L(a.id),null==v||v(a,i)}}),[c,p,L,v,h]),I=e.useMemo((function(){if(c)return function(a,i){p(e.createElement(h,{datum:a}),i),null==f||f(a,i)}}),[c,p,f,h]),x=e.useMemo((function(){if(c)return function(e,a){k(),L(null),null==g||g(e,a)}}),[c,k,L,g]);return n.jsx(i.ArcsLayer,{center:t,data:r,arcGenerator:o,borderWidth:s,borderColor:l,transitionMode:b,onClick:R,onMouseEnter:m,onMouseMove:I,onMouseLeave:x})},k=["isInteractive","animate","motionConfig","theme","renderWrapper"],R=function(t){var r=t.data,o=t.id,d=void 0===o?v.id:o,s=t.value,l=void 0===s?v.value:s,c=t.valueFormat,f=t.sortByValue,L=void 0===f?v.sortByValue:f,h=t.layers,k=void 0===h?v.layers:h,R=t.startAngle,m=void 0===R?v.startAngle:R,I=t.endAngle,x=void 0===I?v.endAngle:I,O=t.padAngle,C=void 0===O?v.padAngle:O,M=t.fit,w=void 0===M?v.fit:M,y=t.innerRadius,T=void 0===y?v.innerRadius:y,S=t.cornerRadius,W=void 0===S?v.cornerRadius:S,j=t.activeInnerRadiusOffset,D=void 0===j?v.activeInnerRadiusOffset:j,B=t.activeOuterRadiusOffset,V=void 0===B?v.activeOuterRadiusOffset:B,E=t.width,P=t.height,G=t.margin,F=t.colors,q=void 0===F?v.colors:F,H=t.borderWidth,X=void 0===H?v.borderWidth:H,Y=t.borderColor,z=void 0===Y?v.borderColor:Y,N=t.enableArcLabels,U=void 0===N?v.enableArcLabels:N,J=t.arcLabel,K=void 0===J?v.arcLabel:J,Q=t.arcLabelsSkipAngle,Z=void 0===Q?v.arcLabelsSkipAngle:Q,$=t.arcLabelsSkipRadius,_=void 0===$?v.arcLabelsSkipRadius:$,ee=t.arcLabelsTextColor,ae=void 0===ee?v.arcLabelsTextColor:ee,ie=t.arcLabelsRadiusOffset,te=void 0===ie?v.arcLabelsRadiusOffset:ie,ne=t.arcLabelsComponent,re=t.enableArcLinkLabels,oe=void 0===re?v.enableArcLinkLabels:re,de=t.arcLinkLabel,se=void 0===de?v.arcLinkLabel:de,le=t.arcLinkLabelsSkipAngle,ce=void 0===le?v.arcLinkLabelsSkipAngle:le,ue=t.arcLinkLabelsOffset,ve=void 0===ue?v.arcLinkLabelsOffset:ue,fe=t.arcLinkLabelsDiagonalLength,ge=void 0===fe?v.arcLinkLabelsDiagonalLength:fe,Le=t.arcLinkLabelsStraightLength,he=void 0===Le?v.arcLinkLabelsStraightLength:Le,be=t.arcLinkLabelsThickness,Ae=void 0===be?v.arcLinkLabelsThickness:be,pe=t.arcLinkLabelsTextOffset,ke=void 0===pe?v.arcLinkLabelsTextOffset:pe,Re=t.arcLinkLabelsTextColor,me=void 0===Re?v.arcLinkLabelsTextColor:Re,Ie=t.arcLinkLabelsColor,xe=void 0===Ie?v.arcLinkLabelsColor:Ie,Oe=t.arcLinkLabelComponent,Ce=t.defs,Me=void 0===Ce?v.defs:Ce,we=t.fill,ye=void 0===we?v.fill:we,Te=t.isInteractive,Se=void 0===Te?v.isInteractive:Te,We=t.onClick,je=t.onMouseEnter,De=t.onMouseMove,Be=t.onMouseLeave,Ve=t.tooltip,Ee=void 0===Ve?v.tooltip:Ve,Pe=t.activeId,Ge=t.onActiveIdChange,Fe=t.defaultActiveId,qe=t.transitionMode,He=void 0===qe?v.transitionMode:qe,Xe=t.legends,Ye=void 0===Xe?v.legends:Xe,ze=t.forwardLegendData,Ne=t.role,Ue=void 0===Ne?v.role:Ne,Je=a.useDimensions(E,P,G),Ke=Je.outerWidth,Qe=Je.outerHeight,Ze=Je.margin,$e=Je.innerWidth,_e=Je.innerHeight,ea=g({data:r,id:d,value:l,valueFormat:c,colors:q}),aa=b({data:ea,width:$e,height:_e,fit:w,innerRadius:T,startAngle:m,endAngle:x,padAngle:C,sortByValue:L,cornerRadius:W,activeInnerRadiusOffset:D,activeOuterRadiusOffset:V,activeId:Pe,onActiveIdChange:Ge,defaultActiveId:Fe,forwardLegendData:ze}),ia=aa.dataWithArc,ta=aa.legendData,na=aa.arcGenerator,ra=aa.centerX,oa=aa.centerY,da=aa.radius,sa=aa.innerRadius,la=aa.setActiveId,ca=aa.toggleSerie,ua=a.bindDefs(Me,ia,ye),va={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};k.includes("arcs")&&(va.arcs=n.jsx(p,{center:[ra,oa],data:ia,arcGenerator:na,borderWidth:X,borderColor:z,isInteractive:Se,onClick:We,onMouseEnter:je,onMouseMove:De,onMouseLeave:Be,setActiveId:la,tooltip:Ee,transitionMode:He},"arcs")),oe&&k.includes("arcLinkLabels")&&(va.arcLinkLabels=n.jsx(i.ArcLinkLabelsLayer,{center:[ra,oa],data:ia,label:se,skipAngle:ce,offset:ve,diagonalLength:ge,straightLength:he,strokeWidth:Ae,textOffset:ke,textColor:me,linkColor:xe,component:Oe},"arcLinkLabels")),U&&k.includes("arcLabels")&&(va.arcLabels=n.jsx(i.ArcLabelsLayer,{center:[ra,oa],data:ia,label:K,radiusOffset:te,skipAngle:Z,skipRadius:_,textColor:ae,transitionMode:He,component:ne},"arcLabels")),Ye.length>0&&k.includes("legends")&&(va.legends=n.jsx(u,{width:$e,height:_e,data:ta,legends:Ye,toggleSerie:ca},"legends"));var fa=A({dataWithArc:ia,arcGenerator:na,centerX:ra,centerY:oa,radius:da,innerRadius:sa});return n.jsx(a.SvgWrapper,{width:Ke,height:Qe,margin:Ze,defs:ua,role:Ue,children:k.map((function(a,i){return void 0!==va[a]?va[a]:"function"==typeof a?n.jsx(e.Fragment,{children:e.createElement(a,fa)},i):null}))})},m=function(e){var i=e.isInteractive,t=void 0===i?v.isInteractive:i,r=e.animate,o=void 0===r?v.animate:r,d=e.motionConfig,c=void 0===d?v.motionConfig:d,u=e.theme,f=e.renderWrapper,g=l(e,k);return n.jsx(a.Container,{animate:o,isInteractive:t,motionConfig:c,renderWrapper:f,theme:u,children:n.jsx(R,s({isInteractive:t},g))})},I=["isInteractive","theme","renderWrapper"],x=function(r){var l=r.data,c=r.id,u=void 0===c?v.id:c,f=r.value,L=void 0===f?v.value:f,h=r.valueFormat,A=r.sortByValue,p=void 0===A?v.sortByValue:A,k=r.startAngle,R=void 0===k?v.startAngle:k,m=r.endAngle,I=void 0===m?v.endAngle:m,x=r.padAngle,O=void 0===x?v.padAngle:x,C=r.fit,M=void 0===C?v.fit:C,w=r.innerRadius,y=void 0===w?v.innerRadius:w,T=r.cornerRadius,S=void 0===T?v.cornerRadius:T,W=r.activeInnerRadiusOffset,j=void 0===W?v.activeInnerRadiusOffset:W,D=r.activeOuterRadiusOffset,B=void 0===D?v.activeOuterRadiusOffset:D,V=r.width,E=r.height,P=r.margin,G=r.pixelRatio,F=void 0===G?v.pixelRatio:G,q=r.colors,H=void 0===q?v.colors:q,X=r.borderWidth,Y=void 0===X?v.borderWidth:X,z=r.borderColor,N=void 0===z?v.borderColor:z,U=r.enableArcLabels,J=void 0===U?v.enableArcLabels:U,K=r.arcLabel,Q=void 0===K?v.arcLabel:K,Z=r.arcLabelsSkipAngle,$=void 0===Z?v.arcLabelsSkipAngle:Z,_=r.arcLabelsTextColor,ee=void 0===_?v.arcLabelsTextColor:_,ae=r.arcLabelsRadiusOffset,ie=void 0===ae?v.arcLabelsRadiusOffset:ae,te=r.enableArcLinkLabels,ne=void 0===te?v.enableArcLinkLabels:te,re=r.arcLinkLabel,oe=void 0===re?v.arcLinkLabel:re,de=r.arcLinkLabelsSkipAngle,se=void 0===de?v.arcLinkLabelsSkipAngle:de,le=r.arcLinkLabelsOffset,ce=void 0===le?v.arcLinkLabelsOffset:le,ue=r.arcLinkLabelsDiagonalLength,ve=void 0===ue?v.arcLinkLabelsDiagonalLength:ue,fe=r.arcLinkLabelsStraightLength,ge=void 0===fe?v.arcLinkLabelsStraightLength:fe,Le=r.arcLinkLabelsThickness,he=void 0===Le?v.arcLinkLabelsThickness:Le,be=r.arcLinkLabelsTextOffset,Ae=void 0===be?v.arcLinkLabelsTextOffset:be,pe=r.arcLinkLabelsTextColor,ke=void 0===pe?v.arcLinkLabelsTextColor:pe,Re=r.arcLinkLabelsColor,me=void 0===Re?v.arcLinkLabelsColor:Re,Ie=r.isInteractive,xe=void 0===Ie?v.isInteractive:Ie,Oe=r.onClick,Ce=r.onMouseMove,Me=r.tooltip,we=void 0===Me?v.tooltip:Me,ye=r.activeId,Te=r.onActiveIdChange,Se=r.defaultActiveId,We=r.legends,je=void 0===We?v.legends:We,De=r.forwardLegendData,Be=e.useRef(null),Ve=a.useTheme(),Ee=a.useDimensions(V,E,P),Pe=Ee.margin,Ge=Ee.innerWidth,Fe=Ee.innerHeight,qe=Ee.outerWidth,He=Ee.outerHeight,Xe=g({data:l,id:u,value:L,valueFormat:h,colors:H}),Ye=b({data:Xe,width:Ge,height:Fe,fit:M,innerRadius:y,startAngle:R,endAngle:I,padAngle:O,sortByValue:p,cornerRadius:S,activeInnerRadiusOffset:j,activeOuterRadiusOffset:B,activeId:ye,onActiveIdChange:Te,defaultActiveId:Se,forwardLegendData:De}),ze=Ye.dataWithArc,Ne=Ye.arcGenerator,Ue=Ye.centerX,Je=Ye.centerY,Ke=Ye.radius,Qe=Ye.innerRadius,Ze=Ye.setActiveId,$e=o.useInheritedColor(N,Ve),_e=i.useArcLabels({data:ze,label:Q,skipAngle:$,offset:ie,textColor:ee}),ea=i.useArcLinkLabels({data:ze,skipAngle:se,offset:ce,diagonalLength:ve,straightLength:ge,label:oe,linkColor:me,textOffset:Ae,textColor:ke});e.useEffect((function(){if(Be.current){Be.current.width=qe*F,Be.current.height=He*F;var e=Be.current.getContext("2d");e.scale(F,F),e.fillStyle=Ve.background,e.fillRect(0,0,qe,He),e.save(),e.translate(Pe.left,Pe.top),Ne.context(e),e.save(),e.translate(Ue,Je),ze.forEach((function(a){e.beginPath(),e.fillStyle=a.color,e.strokeStyle=$e(a),e.lineWidth=Y,Ne(a.arc),e.fill(),Y>0&&e.stroke()})),!0===ne&&i.drawCanvasArcLinkLabels(e,ea,Ve,he),!0===J&&i.drawCanvasArcLabels(e,_e,Ve),e.restore(),je.forEach((function(a){t.renderLegendToCanvas(e,s({},a,{data:ze,containerWidth:Ge,containerHeight:Fe,theme:Ve}))}))}}),[Be,Ge,Fe,qe,He,Pe.top,Pe.left,F,Ue,Je,Ne,ze,Y,$e,J,_e,ne,ea,he,je,Ve]);var aa=e.useMemo((function(){return ze.map((function(e){return s({id:e.id},e.arc)}))}),[ze]),ia=function(e){if(!Be.current)return null;var t=a.getRelativeCursor(Be.current,e),n=t[0],r=t[1],o=i.findArcUnderCursor(Pe.left+Ue,Pe.top+Je,Ke,Qe,aa,n,r);return o?ze.find((function(e){return e.id===o.id})):null},ta=d.useTooltip(),na=ta.showTooltipFromEvent,ra=ta.hideTooltip,oa=function(a){var i=ia(a);i?(null==Ce||Ce(i,a),Ze(i.id),na(e.createElement(we,{datum:i}),a)):(Ze(null),ra())};return n.jsx("canvas",{ref:Be,width:qe*F,height:He*F,style:{width:qe,height:He,cursor:xe?"auto":"normal"},onMouseEnter:xe?oa:void 0,onMouseMove:xe?oa:void 0,onMouseLeave:xe?function(){ra()}:void 0,onClick:xe?function(e){if(Oe){var a=ia(e);a&&Oe(a,e)}}:void 0})},O=function(e){var i=e.isInteractive,t=void 0===i?v.isInteractive:i,r=e.theme,o=e.renderWrapper,d=l(e,I);return n.jsx(a.Container,{isInteractive:t,renderWrapper:o,theme:r,children:n.jsx(x,s({isInteractive:t},d))})};exports.Pie=m,exports.PieCanvas=O,exports.ResponsivePie=function(e){return n.jsx(a.ResponsiveWrapper,{children:function(a){var i=a.width,t=a.height;return n.jsx(m,s({width:i,height:t},e))}})},exports.ResponsivePieCanvas=function(e){return n.jsx(a.ResponsiveWrapper,{children:function(a){var i=a.width,t=a.height;return n.jsx(O,s({width:i,height:t},e))}})},exports.defaultProps=v,exports.useNormalizedData=g,exports.usePie=function(t){var n=t.data,r=t.radius,o=t.innerRadius,d=t.startAngle,l=void 0===d?v.startAngle:d,c=t.endAngle,u=void 0===c?v.endAngle:c,f=t.padAngle,g=void 0===f?v.padAngle:f,b=t.sortByValue,A=void 0===b?v.sortByValue:b,p=t.cornerRadius,k=void 0===p?v.cornerRadius:p,R=t.activeInnerRadiusOffset,m=void 0===R?v.activeInnerRadiusOffset:R,I=t.activeOuterRadiusOffset,x=void 0===I?v.activeOuterRadiusOffset:I,O=t.activeId,C=t.onActiveIdChange,M=t.defaultActiveId,w=t.forwardLegendData,y=h({activeId:O,onActiveIdChange:C,defaultActiveId:M}),T=y.activeId,S=y.setActiveId,W=e.useState([]),j=W[0],D=W[1],B=L({data:n,startAngle:l,endAngle:u,innerRadius:o,outerRadius:r,padAngle:g,sortByValue:A,activeId:T,activeInnerRadiusOffset:m,activeOuterRadiusOffset:x,hiddenIds:j,forwardLegendData:w}),V=e.useCallback((function(e){D((function(a){return a.indexOf(e)>-1?a.filter((function(a){return a!==e})):[].concat(a,[e])}))}),[]);return s({},B,{arcGenerator:i.useArcGenerator({cornerRadius:k,padAngle:a.degreesToRadians(g)}),setActiveId:S,toggleSerie:V})},exports.usePieArcs=L,exports.usePieFromBox=b,exports.usePieLayerContext=A;
//# sourceMappingURL=nivo-pie.cjs.js.map
